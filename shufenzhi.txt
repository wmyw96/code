#include<iostream>
#include<cstdio>
#include<cstring>
#include<cstdlib>
#include<cmath>
#include<algorithm>
using namespace std;

void findroot(int i, int pre){
     s[i] = 1, pr[i] = 0;
     for (int k = c[i], j; k != -1; k = next[k])
         if (ok[k] && (j = g[k]) != pre){
            findroot(j, i);
            s[i] += s[j];
            pr[i] = max(pr[i], s[j]);
         }
     pr[i] = max(pr[i], now - s[i]);
     if (prmn > pr[i]) prmn = pr[i], ctr = i;
}

void addedge(int x, int y, int w){
     g[nm] = y;
     next[nm] = c[x];
     c[x] = nm;
     cost[nm] = w;
     nm++;
}

void calc(int i){
     
int main(){
    scanf("%d%d%d", &n, &k, &m);
    memset(c, -1, sizeof c);
    for (int i = 1; i <= m; ++i){
        scanf("%d", &x);
        mark[x] = 1;
    }
    for (int i = 1; i < n; ++i){
        scanf("%d%d%d", &x, &y, &w);
        addedge(x, y, w);
        addedge(y, x, w);
    }
    prmn = nowsize = n;
    findroot(1, -1);
    calc(ctr);
}
